<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- autogenerated by 'erl2html2'. -->
<html>
<head><title>/home/mike/dev/lysefgg/ch29/test/mafiapp_SUITE.erl</title></head>

<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">
<pre>
    1:-<b>module</b>(mafiapp_SUITE).
    2:-<b>include_lib</b>("common_test/include/ct.hrl").
    3:-<b>export</b>([init_per_suite/1, end_per_suite/1, all/0]).
    4:-<b>export</b>([init_per_testcase/2, end_per_testcase/2]).
    5:
<a name=all>    6:<b>all</b></a>() -&gt; [add_service].
    7:
<a name=init_per_suite>    8:<b>init_per_suite</b></a>(Config) -&gt;
    9:  Priv = ?config(priv_dir, Config),
<a name="10"></a>   10:  application:set_env(mnesia, dir, Priv),
   11:  mafiapp:install([node()]),
   12:  application:start(mnesia),
   13:  application:start(mafiapp),
   14:  Config.
   15:
<a name=end_per_suite>   16:<b>end_per_suite</b></a>(_Config) -&gt;
   17:  application:stop(mnesia),
   18:  ok.
   19:
<a name=init_per_testcase><a name="20"></a>   20:<b>init_per_testcase</b></a>(add_service, Config) -&gt; Config.
   21:
<a name=end_per_testcase>   22:<b>end_per_testcase</b></a>(_, Config) -&gt; ok.
   23:
<a name=add_service>   24:<b>add_service</b></a>(_Config) -&gt; 
   25:  {error, unknown_friend} = mafiapp:add_service("from name", "to name", {1946, 5, 23}, "a fake service"),
   26:  ok = mafiapp:add_friend("Don Corleone", [], [boss], boss),
   27:  ok = mafiapp:add_friend("Alan Parsons", [{twitter, "@ArtScienceSound"}], 
   28:    [{born, {1948,12,20}},
   29:     musician, 'audio engineer',
<a name="30"></a>   30:     producer, "has projects"],
   31:    mixing),
   32:  ok = mafiapp:add_service("Alan Parsons", "Don Corleone", {1973,3,1}, "Pink Floyd album").
   33:
   34:
</pre>
<hr size=1><i>The transformation of this file (35 lines) took 0.00 seconds</i><br>
</body>
</html>
